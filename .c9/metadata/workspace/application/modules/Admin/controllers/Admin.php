{"filter":false,"title":"Admin.php","tooltip":"/application/modules/Admin/controllers/Admin.php","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":93,"column":42},"end":{"row":93,"column":43},"action":"insert","lines":["p"],"id":2791}],[{"start":{"row":93,"column":43},"end":{"row":93,"column":44},"action":"insert","lines":["l"],"id":2792}],[{"start":{"row":93,"column":44},"end":{"row":93,"column":45},"action":"insert","lines":["o"],"id":2793}],[{"start":{"row":93,"column":45},"end":{"row":93,"column":46},"action":"insert","lines":["a"],"id":2794}],[{"start":{"row":93,"column":46},"end":{"row":93,"column":47},"action":"insert","lines":["d"],"id":2795}],[{"start":{"row":93,"column":47},"end":{"row":93,"column":48},"action":"insert","lines":["s"],"id":2796}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"remove","lines":["i"],"id":2797}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"remove","lines":["m"],"id":2798}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"remove","lines":["a"],"id":2799}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"remove","lines":["g"],"id":2800}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"remove","lines":["e"],"id":2801}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"remove","lines":["s"],"id":2802}],[{"start":{"row":93,"column":49},"end":{"row":93,"column":50},"action":"insert","lines":["l"],"id":2803}],[{"start":{"row":93,"column":50},"end":{"row":93,"column":51},"action":"insert","lines":["e"],"id":2804}],[{"start":{"row":93,"column":51},"end":{"row":93,"column":52},"action":"insert","lines":["s"],"id":2805}],[{"start":{"row":93,"column":52},"end":{"row":93,"column":53},"action":"insert","lines":["s"],"id":2806}],[{"start":{"row":93,"column":53},"end":{"row":93,"column":54},"action":"insert","lines":["i"],"id":2807}],[{"start":{"row":93,"column":54},"end":{"row":93,"column":55},"action":"insert","lines":["o"],"id":2808}],[{"start":{"row":93,"column":55},"end":{"row":93,"column":56},"action":"insert","lines":["n"],"id":2809}],[{"start":{"row":93,"column":56},"end":{"row":93,"column":57},"action":"insert","lines":["s"],"id":2810}],[{"start":{"row":93,"column":56},"end":{"row":93,"column":57},"action":"remove","lines":["s"],"id":2811}],[{"start":{"row":102,"column":29},"end":{"row":102,"column":37},"action":"remove","lines":["uploadan"],"id":2812},{"start":{"row":102,"column":29},"end":{"row":102,"column":39},"action":"insert","lines":["video_name"]}],[{"start":{"row":93,"column":33},"end":{"row":93,"column":34},"action":"insert","lines":["b"],"id":2813}],[{"start":{"row":93,"column":34},"end":{"row":93,"column":35},"action":"insert","lines":["a"],"id":2814}],[{"start":{"row":93,"column":35},"end":{"row":93,"column":36},"action":"insert","lines":["s"],"id":2815}],[{"start":{"row":93,"column":36},"end":{"row":93,"column":37},"action":"insert","lines":["e"],"id":2816}],[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"insert","lines":["_"],"id":2817}],[{"start":{"row":93,"column":38},"end":{"row":93,"column":39},"action":"insert","lines":["u"],"id":2818}],[{"start":{"row":93,"column":39},"end":{"row":93,"column":40},"action":"insert","lines":["r"],"id":2819}],[{"start":{"row":93,"column":40},"end":{"row":93,"column":41},"action":"insert","lines":["l"],"id":2820}],[{"start":{"row":93,"column":41},"end":{"row":93,"column":42},"action":"insert","lines":["."],"id":2821}],[{"start":{"row":93,"column":41},"end":{"row":93,"column":43},"action":"insert","lines":["()"],"id":2822}],[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"insert","lines":["e"],"id":2823}],[{"start":{"row":93,"column":4},"end":{"row":93,"column":5},"action":"insert","lines":["c"],"id":2824}],[{"start":{"row":93,"column":5},"end":{"row":93,"column":6},"action":"insert","lines":["h"],"id":2825}],[{"start":{"row":93,"column":6},"end":{"row":93,"column":7},"action":"insert","lines":["o"],"id":2826}],[{"start":{"row":93,"column":7},"end":{"row":93,"column":8},"action":"insert","lines":[" "],"id":2827}],[{"start":{"row":93,"column":98},"end":{"row":93,"column":99},"action":"insert","lines":["e"],"id":2828}],[{"start":{"row":93,"column":99},"end":{"row":93,"column":100},"action":"insert","lines":["x"],"id":2829}],[{"start":{"row":93,"column":100},"end":{"row":93,"column":101},"action":"insert","lines":["i"],"id":2830}],[{"start":{"row":93,"column":101},"end":{"row":93,"column":102},"action":"insert","lines":["t"],"id":2831}],[{"start":{"row":93,"column":102},"end":{"row":93,"column":103},"action":"insert","lines":[";"],"id":2832}],[{"start":{"row":93,"column":98},"end":{"row":93,"column":103},"action":"remove","lines":["exit;"],"id":2833}],[{"start":{"row":93,"column":74},"end":{"row":93,"column":79},"action":"insert","lines":["exit;"],"id":2834}],[{"start":{"row":93,"column":74},"end":{"row":93,"column":79},"action":"remove","lines":["exit;"],"id":2835}],[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"remove","lines":["e"],"id":2836}],[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"remove","lines":["c"],"id":2837}],[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"remove","lines":["h"],"id":2838}],[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"remove","lines":["o"],"id":2839}],[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"remove","lines":[" "],"id":2840}],[{"start":{"row":93,"column":43},"end":{"row":93,"column":44},"action":"remove","lines":["."],"id":2841}],[{"start":{"row":93,"column":42},"end":{"row":93,"column":43},"action":"remove","lines":[")"],"id":2842}],[{"start":{"row":93,"column":41},"end":{"row":93,"column":42},"action":"remove","lines":["("],"id":2843}],[{"start":{"row":93,"column":40},"end":{"row":93,"column":41},"action":"remove","lines":["l"],"id":2844}],[{"start":{"row":93,"column":39},"end":{"row":93,"column":40},"action":"remove","lines":["r"],"id":2845}],[{"start":{"row":93,"column":38},"end":{"row":93,"column":39},"action":"remove","lines":["u"],"id":2846}],[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"remove","lines":["_"],"id":2847}],[{"start":{"row":93,"column":36},"end":{"row":93,"column":37},"action":"remove","lines":["e"],"id":2848}],[{"start":{"row":93,"column":35},"end":{"row":93,"column":36},"action":"remove","lines":["s"],"id":2849}],[{"start":{"row":93,"column":34},"end":{"row":93,"column":35},"action":"remove","lines":["a"],"id":2850}],[{"start":{"row":93,"column":33},"end":{"row":93,"column":34},"action":"remove","lines":["b"],"id":2851}],[{"start":{"row":93,"column":56},"end":{"row":93,"column":57},"action":"insert","lines":["/"],"id":2852}],[{"start":{"row":98,"column":17},"end":{"row":98,"column":44},"action":"remove","lines":["random_string('numeric', 5)"],"id":2853},{"start":{"row":98,"column":17},"end":{"row":98,"column":46},"action":"insert","lines":["$_FILES['video_name']['name']"]}],[{"start":{"row":146,"column":5},"end":{"row":147,"column":0},"action":"insert","lines":["",""],"id":2854},{"start":{"row":147,"column":0},"end":{"row":147,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":147,"column":4},"end":{"row":151,"column":5},"action":"insert","lines":["function uploadData()","    {","        $this->Csv_model->uploadData();","        redirect('csv');","    }"],"id":2855}],[{"start":{"row":148,"column":5},"end":{"row":148,"column":6},"action":"insert","lines":["\t"],"id":2856}],[{"start":{"row":148,"column":6},"end":{"row":149,"column":0},"action":"insert","lines":["",""],"id":2857},{"start":{"row":149,"column":0},"end":{"row":149,"column":5},"action":"insert","lines":["    \t"]}],[{"start":{"row":149,"column":5},"end":{"row":149,"column":36},"action":"insert","lines":["$this->load->model('Lessions');"],"id":2858}],[{"start":{"row":150,"column":15},"end":{"row":150,"column":24},"action":"remove","lines":["Csv_model"],"id":2859},{"start":{"row":150,"column":15},"end":{"row":150,"column":23},"action":"insert","lines":["Lessions"]}],[{"start":{"row":151,"column":18},"end":{"row":151,"column":21},"action":"remove","lines":["csv"],"id":2860},{"start":{"row":151,"column":18},"end":{"row":151,"column":26},"action":"insert","lines":["Lessions"]}],[{"start":{"row":151,"column":7},"end":{"row":151,"column":8},"action":"insert","lines":[" "],"id":2861}],[{"start":{"row":151,"column":8},"end":{"row":151,"column":9},"action":"insert","lines":["r"],"id":2862}],[{"start":{"row":151,"column":9},"end":{"row":151,"column":10},"action":"insert","lines":["e"],"id":2863}],[{"start":{"row":151,"column":10},"end":{"row":151,"column":11},"action":"insert","lines":["t"],"id":2864}],[{"start":{"row":151,"column":11},"end":{"row":151,"column":12},"action":"insert","lines":["u"],"id":2865}],[{"start":{"row":151,"column":12},"end":{"row":151,"column":13},"action":"insert","lines":["r"],"id":2866}],[{"start":{"row":151,"column":13},"end":{"row":151,"column":14},"action":"insert","lines":["n"],"id":2867}],[{"start":{"row":150,"column":8},"end":{"row":150,"column":9},"action":"insert","lines":["$"],"id":2868}],[{"start":{"row":150,"column":9},"end":{"row":150,"column":10},"action":"insert","lines":["r"],"id":2869}],[{"start":{"row":150,"column":10},"end":{"row":150,"column":11},"action":"insert","lines":["e"],"id":2870}],[{"start":{"row":150,"column":8},"end":{"row":150,"column":11},"action":"remove","lines":["$re"],"id":2871},{"start":{"row":150,"column":8},"end":{"row":150,"column":15},"action":"insert","lines":["$result"]}],[{"start":{"row":150,"column":15},"end":{"row":150,"column":16},"action":"insert","lines":["="],"id":2872}],[{"start":{"row":151,"column":8},"end":{"row":151,"column":36},"action":"remove","lines":["return redirect('Lessions');"],"id":2873},{"start":{"row":151,"column":8},"end":{"row":164,"column":3},"action":"insert","lines":["if ($result == true) ","\t\t{   ","\t\t        ","\t\t     return redirect('Lessions');","\t\t }","\t\t        ","\t\t\t","\t\telse ","\t\t{","\t\t\t$data = array(","\t\t\t'error_message' => 'Error'","\t\t\t);","\t\t\treturn redirect('PTTeacher',$data);","\t\t}"]}],[{"start":{"row":163,"column":20},"end":{"row":163,"column":29},"action":"remove","lines":["PTTeacher"],"id":2874},{"start":{"row":163,"column":20},"end":{"row":163,"column":28},"action":"insert","lines":["Lessions"]}],[{"start":{"row":153,"column":7},"end":{"row":155,"column":5},"action":"insert","lines":["\t$data = array(","\t\t\t'error_message' => 'Error'","\t\t\t);"],"id":2875}],[{"start":{"row":153,"column":7},"end":{"row":153,"column":8},"action":"remove","lines":["\t"],"id":2876}],[{"start":{"row":153,"column":6},"end":{"row":153,"column":7},"action":"remove","lines":[" "],"id":2877}],[{"start":{"row":154,"column":23},"end":{"row":154,"column":28},"action":"remove","lines":["Error"],"id":2878},{"start":{"row":154,"column":23},"end":{"row":154,"column":24},"action":"insert","lines":["S"]}],[{"start":{"row":154,"column":24},"end":{"row":154,"column":25},"action":"insert","lines":["u"],"id":2879}],[{"start":{"row":154,"column":25},"end":{"row":154,"column":26},"action":"insert","lines":["c"],"id":2880}],[{"start":{"row":154,"column":26},"end":{"row":154,"column":27},"action":"insert","lines":["c"],"id":2881}],[{"start":{"row":154,"column":27},"end":{"row":154,"column":28},"action":"insert","lines":["e"],"id":2882}],[{"start":{"row":154,"column":28},"end":{"row":154,"column":29},"action":"insert","lines":["s"],"id":2883}],[{"start":{"row":154,"column":29},"end":{"row":154,"column":30},"action":"insert","lines":["s"],"id":2884}],[{"start":{"row":156,"column":33},"end":{"row":156,"column":39},"action":"insert","lines":[",$data"],"id":2885}],[{"start":{"row":130,"column":7},"end":{"row":131,"column":51},"action":"insert","lines":["$this->session->set_flashdata('item', $messge);","\t\t\t\t$this->session->keep_flashdata('item',$messge);"],"id":2886}],[{"start":{"row":131,"column":3},"end":{"row":131,"column":4},"action":"remove","lines":["\t"],"id":2887}],[{"start":{"row":131,"column":3},"end":{"row":131,"column":4},"action":"insert","lines":[" "],"id":2888}],[{"start":{"row":152,"column":8},"end":{"row":156,"column":8},"action":"remove","lines":["if ($result == true) ","\t\t{   ","\t\t    $data = array(","\t\t\t'error_message' => 'Success'","\t\t\t);   "],"id":2889}],[{"start":{"row":154,"column":3},"end":{"row":163,"column":3},"action":"remove","lines":["}","\t\t        ","\t\t\t","\t\telse ","\t\t{","\t\t\t$data = array(","\t\t\t'error_message' => 'Error'","\t\t\t);","\t\t\treturn redirect('Lessions',$data);","\t\t}"],"id":2891}],[{"start":{"row":153,"column":33},"end":{"row":153,"column":39},"action":"remove","lines":[",$data"],"id":2892}],[{"start":{"row":151,"column":8},"end":{"row":151,"column":46},"action":"remove","lines":["$result=$this->Lessions->uploadData();"],"id":2914}],[{"start":{"row":199,"column":3},"end":{"row":199,"column":4},"action":"insert","lines":[" "],"id":2913}],[{"start":{"row":199,"column":2},"end":{"row":199,"column":3},"action":"insert","lines":[" "],"id":2912}],[{"start":{"row":199,"column":1},"end":{"row":199,"column":2},"action":"insert","lines":[" "],"id":2911}],[{"start":{"row":199,"column":1},"end":{"row":199,"column":2},"action":"remove","lines":["\t"],"id":2910}],[{"start":{"row":199,"column":2},"end":{"row":199,"column":3},"action":"remove","lines":[" "],"id":2909}],[{"start":{"row":199,"column":3},"end":{"row":199,"column":4},"action":"remove","lines":[" "],"id":2908}],[{"start":{"row":199,"column":4},"end":{"row":199,"column":5},"action":"remove","lines":[" "],"id":2907}],[{"start":{"row":199,"column":5},"end":{"row":199,"column":6},"action":"remove","lines":[" "],"id":2906}],[{"start":{"row":199,"column":7},"end":{"row":199,"column":35},"action":"remove","lines":["return redirect('Lessions');"],"id":2905},{"start":{"row":199,"column":7},"end":{"row":213,"column":3},"action":"insert","lines":["if ($result == true) ","\t\t{   ","\t\t     $this->session->set_flashdata('item', $messge);","\t\t\t $this->session->keep_flashdata('item',$messge);   ","\t\t     return redirect('Lessions');","\t\t }","\t\t        ","\t\t\t","\t\telse ","\t\t{","\t\t\t$data = array(","\t\t\t'error_message' => 'Error'","\t\t\t);","\t\t\treturn redirect('PTTeacher',$data);","\t\t}"]}],[{"start":{"row":194,"column":47},"end":{"row":194,"column":48},"action":"insert","lines":["a"],"id":2904}],[{"start":{"row":194,"column":46},"end":{"row":194,"column":47},"action":"insert","lines":["t"],"id":2903}],[{"start":{"row":194,"column":45},"end":{"row":194,"column":46},"action":"insert","lines":["a"],"id":2902}],[{"start":{"row":194,"column":44},"end":{"row":194,"column":45},"action":"insert","lines":["d"],"id":2901}],[{"start":{"row":194,"column":43},"end":{"row":194,"column":44},"action":"insert","lines":["$"],"id":2900}],[{"start":{"row":182,"column":6},"end":{"row":182,"column":7},"action":"insert","lines":[" "],"id":2899}],[{"start":{"row":182,"column":5},"end":{"row":182,"column":6},"action":"insert","lines":[" "],"id":2898}],[{"start":{"row":182,"column":4},"end":{"row":182,"column":5},"action":"insert","lines":[" "],"id":2897}],[{"start":{"row":182,"column":3},"end":{"row":182,"column":4},"action":"insert","lines":[" "],"id":2896}],[{"start":{"row":181,"column":5},"end":{"row":182,"column":0},"action":"insert","lines":["",""],"id":2895},{"start":{"row":182,"column":0},"end":{"row":182,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":193,"column":7},"end":{"row":193,"column":44},"action":"remove","lines":["$this->db->insert('lessions', $data);"],"id":2894},{"start":{"row":193,"column":7},"end":{"row":193,"column":45},"action":"insert","lines":["$result=$this->Lessions->uploadData();"]}],[{"start":{"row":152,"column":8},"end":{"row":197,"column":9},"action":"insert","lines":["$count=0;","        $fp = fopen($_FILES['userfile']['tmp_name'],'r') or die(\"can't open file\");","        while($csv_line = fgetcsv($fp,1024))","        {\t","        \t//print_r($csv_line);exit;","            $count++;","            if($count == 1)","            {","                continue;","            }//keep this if condition if you want to remove the first row","            ","            \tfor($i = 0, $j = count($csv_line); $i < $j; $i++)","\t            {\t","\t","\t                $insert_csv = array();","\t//                $insert_csv['id'] = $csv_line[0];//remove if you want to have primary key,","\t              // echo $csv_line[1];exit;","\t                $insert_csv['section'] = $csv_line[1];","\t                $insert_csv['semester'] = $csv_line[2];","\t                $insert_csv['title'] = $csv_line[3];","\t                $insert_csv['description'] = $csv_line[4];","\t                $insert_csv['video'] = $csv_line[5];","\t                $insert_csv['video_title'] = $csv_line[6];","\t            \t$insert_csv['video_description'] = $csv_line[7];","\t","\t            }","\t            $i++;","            ","        if($insert_csv['section']!==NULL || $insert_csv['semester']!==NULL|| $insert_csv['title']!==NULL|| $insert_csv['description']!==NULL|| $insert_csv['video']!==NULL|| $insert_csv['video_title']!==NULL|| $insert_csv['video_description']!==NULL||$data['data']!==NULL)","\t\t{\t\t$data['data']=random_string('alnum', 10);","\t\t\t    $data = array(","\t\t\t       ","\t\t\t\t'section' => $insert_csv['section'],","\t\t\t\t'semester' => $insert_csv['semester'],","\t\t\t\t'title' => $insert_csv['title'],","\t\t\t\t'description' => $insert_csv['description'],","\t\t\t\t'video' => $insert_csv['video'],","\t\t\t\t'video_title' => $insert_csv['video_title'],","\t\t\t\t'lession_id'=>$data['data'],","\t\t\t\t'video_description' => $insert_csv['video_description']);","//print_r($data);exit;","\t\t\t    $this->db->insert('lessions', $data);","\t\t\t     ","\t\t}","\t\t","        }"],"id":2893}]]},"ace":{"folds":[],"scrolltop":1793.1658935546875,"scrollleft":0,"selection":{"start":{"row":145,"column":2},"end":{"row":145,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":138,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1478526573612,"hash":"0a38e423de56c7782c08f139d2d7dae465888f34"}